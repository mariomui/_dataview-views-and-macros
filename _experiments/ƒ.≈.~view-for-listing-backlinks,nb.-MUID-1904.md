---
TEMPLATE_VERSION: v1.0.7_note-refactor-template
MUID: MUID-1904
CREATION_DATE: 2023-12-17
tags:
  - _misc/_wip
PROJECT_PARENT: 
DOC_VERSION: v.0.0.0
DEPENDENCIES:
  - "[[list-of-reverse-engineered-apis,by-class,vis-Obsidianmd-app#getBackLinksForFile|getBackLinksForFile]]"
---

# -

## 00-Meta

> [!info]+ Progress Bar
> > ![[~view-for-local-tasks-using-a-progress-bar,nb.-MUID-698#=|olk]]
> ```dataview
> task where file.name = this.file.name and !completed
> ```
> > 
> ```dataview
> task where file.name = this.file.name and completed
> ```

### 10-About

- This particular code is a good example of the [[master-list-of-apis,vis-Obsidianmd-plugin-authoring#metadataCache.getBacklinksForFile|metadataCache.getBacklinksForFile]]
	- #_noteshippo/vis/_obsidianmd-plugin-authoring 

- ! TODO
	- [ ] Convert [[ƒ.≈.~view-for-listing-backlinks,nb.-MUID-1904]] into a [[partial-view-with-custom-transclusion-feature,uti.-viewfn,bt.-Noteshippo-title-level-affix,]] ➕ 2025-03-17

### 11-Reference

* †
## 20-Inlink

> [!abstract]- %%  %% Automated List of Reference Inlinks (v0.0.5)
> * ℹ Commit/design logs are located in this [[,aka-MUID-150|experiment note]]. 
> > `= join( map( sort( map( filter(this.file.inlinks, (link) => meta(link).path != this.file.path), (x) => [ split(meta(x).path, "/")[length(split(meta(x).path, "/")) - 1], x ] ) ), (b) => "• " + choice( length(b[0]) > 28, link( b[1], truncate( regexreplace(b[0], "(-of|of|the|-the|-for|-that|https-|ee)", ""), length( regexreplace(b[0], "(-of|of|the|-the|-for|-that|https-|ee)", "") ) * 0.75 ) ), link(b[1], regexreplace(b[0], "\.md$", "")) ) ), "<br>" )`



# =

**base_filepath-v0.0.6**: `= choice( contains(this.file.folder, this.file.name), link(this.file.path), join(["*",this.file.path,"*"], ""))` doc-`= this.DOC_VERSION` / ids: `= this.MUID`,PP:`= this.PROJECT_PARENT` / lcsh: `= link(this.heading)`


- Look inside the number of backlinks (that mention the current file) and contains ,AKA in its filename) 
```dataviewjs
const {metadataCache,workspace, vault} = this.app
const {parseBase} = createParserHelpers()
workspace.onLayoutReady(main.bind(this))
function main() {
  const vf = workspace.getActiveFile()
  const {data} = metadataCache.getBacklinksForFile(vf)
  if (!data) return;
  const mapByParseBase = (path) => parseBase(path)
	console.log(data instanceof Map);
	// data is now an instance of map. GREAT. fuck.
  const _data = data.keys().map(mapByParseBase);
  console.log({data,_data})
  const filtereds = _data.filter(datum => datum.contains(',aka'));

  (async function (genRenderListItems,renderTitle) {
    renderTitle("Generate List of Backlinks (^aka)")
    console.log({filtereds})
    const $l = await genRenderListItems(filtereds)
    console.log({$l})
  })(
    genRenderListItems.bind(this), 
    renderTitle.bind(this)
  )
}

// renderers
function renderTitle(title) {
  const $p = dv.paragraph(title.toUpperCase())
  $p.setAttribute("style", "text-decoration: underline")
}
async function genRenderListItems(listItems) {
  const links = listItems.map((l) => {
    return metadataCache.getFirstLinkpathDest(l,"")
  }).map((t) => {
    return dv.fileLink(t.path,t.base)
  })
  console.log({links})
  const $l = await dv.list(links);
  return $l
}
// util
function createParserHelpers() {
  const parseFn = vault.adapter.path.parse;
  return {
    parseBase: (path, spec = "base") => {
      return parseFn(path)[spec]
    }
  }
}
```

---

# ---Transient


## LR--Dependencies

- `metadataCache.getBackLinksForFile`
	- [[list-of-reverse-engineered-apis,by-class,vis-Obsidianmd-app#MetadataCache Functions#getBackLinksForFile]]
		- [ ] Rename the heading api in the note using more robust naming scheme ➕ 2025-05-03 #_todo/_to-housekeep 
			- [[22--list-of-api,by-proximity-to-top-node,bt.-Obsidianmd-app#Vault Fns]]

# ---Transient Doc Log

- v0.0.0
	-   `const {data} = metadataCache.getBacklinksForFile(vf) `
		- data is now a [[map,bt.-Javascript-native-runtime-api,]] 
		- [[list-of-reverse-engineered-apis,by-class,vis-Obsidianmd-app#getBackLinksForFile]]

# -

## 00-Meta

> [!info]+ Progress Bar
> > ![[~view-for-local-tasks-using-a-progress-bar,nb.-MUID-698#=|olk]]
> ```dataview
> task where file.name = this.file.name and !completed
> ```
> > 
> ```dataview
> task where file.name = this.file.name and completed
> ```

### 10-About

- This particular code is a good example of the [[master-list-of-apis,vis-Obsidianmd-plugin-authoring#metadataCache.getBacklinksForFile|metadataCache.getBacklinksForFile]]
	- #_noteshippo/vis/_obsidianmd-plugin-authoring 

- ! TODO
	- [ ] Convert [[ƒ.≈.~view-for-listing-backlinks,nb.-MUID-1904]] into a [[partial-view-with-custom-transclusion-feature,uti.-viewfn,bt.-Noteshippo-title-level-affix,]] ➕ 2025-03-17

### 11-Reference

* †
## 20-Inlink

> [!abstract]- %%  %% Automated List of Reference Inlinks (v0.0.5)
> * ℹ Commit/design logs are located in this [[,aka-MUID-150|experiment note]]. 
> > `= join( map( sort( map( filter(this.file.inlinks, (link) => meta(link).path != this.file.path), (x) => [ split(meta(x).path, "/")[length(split(meta(x).path, "/")) - 1], x ] ) ), (b) => "• " + choice( length(b[0]) > 28, link( b[1], truncate( regexreplace(b[0], "(-of|of|the|-the|-for|-that|https-|ee)", ""), length( regexreplace(b[0], "(-of|of|the|-the|-for|-that|https-|ee)", "") ) * 0.75 ) ), link(b[1], regexreplace(b[0], "\.md$", "")) ) ), "<br>" )`



# =

**base_filepath-v0.0.6**: `= choice( contains(this.file.folder, this.file.name), link(this.file.path), join(["*",this.file.path,"*"], ""))` doc-`= this.DOC_VERSION` / ids: `= this.MUID`,PP:`= this.PROJECT_PARENT` / lcsh: `= link(this.heading)`


- Look inside the number of backlinks (that mention the current file) and contains ,AKA in its filename) 
```dataviewjs
const {metadataCache,workspace, vault} = this.app
const {parseBase} = createParserHelpers()
workspace.onLayoutReady(main.bind(this))
function main() {
  const vf = workspace.getActiveFile()
  const {data} = metadataCache.getBacklinksForFile(vf)
  if (!data) return;
  const mapByParseBase = (path) => parseBase(path)
	console.log(data instanceof Map);
	// data is now an instance of map. GREAT. fuck.
  const _data = data.keys().map(mapByParseBase);
  console.log({data,_data})
  const filtereds = _data.filter(datum => datum.contains(',aka'));

  (async function (genRenderListItems,renderTitle) {
    renderTitle("Generate List of Backlinks (^aka)")
    console.log({filtereds})
    const $l = await genRenderListItems(filtereds)
    console.log({$l})
  })(
    genRenderListItems.bind(this), 
    renderTitle.bind(this)
  )
}

// renderers
function renderTitle(title) {
  const $p = dv.paragraph(title.toUpperCase())
  $p.setAttribute("style", "text-decoration: underline")
}
async function genRenderListItems(listItems) {
  const links = listItems.map((l) => {
    return metadataCache.getFirstLinkpathDest(l,"")
  }).map((t) => {
    return dv.fileLink(t.path,t.base)
  })
  console.log({links})
  const $l = await dv.list(links);
  return $l
}
// util
function createParserHelpers() {
  const parseFn = vault.adapter.path.parse;
  return {
    parseBase: (path, spec = "base") => {
      return parseFn(path)[spec]
    }
  }
}
```

---

# ---Transient


## LR--Dependencies

- `metadataCache.getBackLinksForFile`
	- [[list-of-reverse-engineered-apis,by-class,vis-Obsidianmd-app#MetadataCache Functions#getBackLinksForFile]]
		- [ ] Rename the heading api in the note using more robust naming scheme ➕ 2025-05-03 #_todo/_to-housekeep 
			- [[22--list-of-api,by-proximity-to-top-node,bt.-Obsidianmd-app#Vault Fns]]

# ---Transient Doc Log

- v0.0.0
	-   `const {data} = metadataCache.getBacklinksForFile(vf) `
		- data is now a [[map,bt.-Javascript-native-runtime-api,]] 
		- [[list-of-reverse-engineered-apis,by-class,vis-Obsidianmd-app#getBackLinksForFile]]