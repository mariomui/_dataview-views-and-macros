---
CREATION_DATE: "2024-02-25"
MUID: MUID-2184
PROJECT_PARENT: 
TEMPLATE_VERSION: v1.0.7_note-refactor-template
tags: _misc/_wip
---

# -

# =

[[fixme-symbol,uti.-Æ’,bt.-Noteshippo-title-level-flag,]]
**base_filepath-v0.0.6**: `= choice( contains(this.file.folder, this.file.name), link(this.file.path), join(["*",this.file.path,"*"], ""))` doc-`= this.DOC_VERSION` / ids: `= this.MUID`,PP:`= this.PROJECT_PARENT` / lcsh: `= link(this.heading)`

- ! As of *2025-05-20* this partial is BROKEN.

```dataviewjs
const {vault, plugins, workspace, fileManager, metadataCache} = this.app;
const {default: obs} = plugins.plugins['templater-obsidian'].templater.current_functions_object.obsidian

const current_file_path = dv.currentFilePath

workspace.onLayoutReady(main.bind(this))

function main() {
  (genMain)()
  async function genMain() {
    const dir_path = getNearestRootPathFromFilePath(current_file_path);
    const vfs = await genRecursiveList(dir_path)

    const fms = vfs.map((vf) => {
      return metadataCache.getFileCache(vf).frontmatter
    })


    genRenderList(list)
  }
}

function getNearestRootPathFromFilePath(current_file_path) {
  const folder_path = vault
    .getAbstractFileByPath(
      current_file_path
    ).parent?.path;

  if (!folder_path) return;
  return folder_path
}
async function genRecursiveList(path) {
  const vfs = []
  if (!path) return vfs;
  
  const tfolder = vault.getAbstractFileByPath(path)
  const reclist = await obs.Vault.recurseChildren(tfolder, cb)
  return vfs;

  function cb(vf) {
    vfs.push(vf);
  }
}
```

---

# ---Transien